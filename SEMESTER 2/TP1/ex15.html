<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js" type="text/javascript">
	</script>
    <title>Edition de champ</title>
	<style>

	</style>
  </head>
  <body>
    <script>
	  
	$(document).ready(function() {
		
		$('div.modifiable').wrapInner("<span></span>");
		$('div.modifiable').append("<img src=\"crayon.png\"></img>");
		$('div.modifiable').wrapInner("<div></div>");
		$('div.modifiable').append(
		  "<form>"
		+ "<input type='text' value= \"\"></input>"
		+ "<input type='submit' value='Valider'></input>"
		+ "</form>" );
		
		$("*>div>img").click(function() {
			$div = $(this).parent();
			$span = $div.children("span:first");
			$val = $span.text();
			$form = $div.parent().children("form:first");
			$input = $form.children("input[type='text']:first");
			$input.val($val);
			$form.show();
			$div.hide();
		});
		
		$("*>form>input[type='submit']").click(function() {
			$form = $(this).parent();
			$id = $form.parent().attr('id');
			$input = $form.children("input[type='text']:first");
			$val = $input.val();
			$div = $form.parent().children("div:first");
			$span = $div.children("span:first");
			$span.text($val);
			$form.hide();
			$div.show();
			console.log("update table TABLE value='"+$val+"' where id='"+$id+"';")
			return false;
		});
	
		$("div>form").hide();
	
	});
	
    </script>
	
	<div class="modifiable" id="nom">Panzoli</div>
	<div class="modifiable" id="prenom" >David</div>
	<div class="modifiable" id="courriel" >david.panzoli@univ-jfc.fr</div>

	
	
</body>
</html>